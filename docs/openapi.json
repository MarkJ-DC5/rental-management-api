{"openapi":"3.1.0","info":{"title":"Rental Management System REST API","contact":{"name":"Mark Jayson Dela Cruz","email":"markjaysondc5@gmail.com"},"version":"1.0","summary":"REST API for managing apartment buildings, tenants, and payments."},"servers":[{"url":"http://localhost:8080","description":"Local"}],"tags":[{"name":"1. Building","description":"Endpoints for building management"},{"name":"2. Room","description":"Endpoints for room management"},{"name":"3. Tenant","description":"Endpoints for tenant management"},{"name":"4. Transaction","description":"Endpoints for transaction management"},{"name":"5. Authentication","description":"Endpoints for user management"}],"paths":{"/api/v1/auth/authenticate":{"post":{"tags":["5. Authentication"],"summary":"Authenticates a user","operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["5. Authentication"],"summary":"Registers a user","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/buildings":{"get":{"tags":["1. Building"],"summary":"Retrieve all buildings","operationId":"getAllBuildings","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BuildingDTO"}}}}}}},"post":{"tags":["1. Building"],"summary":"Create a new building","operationId":"postBuilding","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildingDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BuildingDTO"}}}}}}},"/api/v1/buildings/{buildingId}":{"get":{"tags":["1. Building"],"summary":"Retrieve a building by its ID","operationId":"getBuildingById","parameters":[{"name":"buildingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BuildingDTO"}}}}}},"put":{"tags":["1. Building"],"summary":"Update an existing building","description":"The building ID must be provided in the path variable. If included in the request body, it will be ignored.","operationId":"putBuilding","parameters":[{"name":"buildingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildingDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BuildingDTO"}}}}}},"delete":{"tags":["1. Building"],"summary":"Delete a building by its ID, having no more linked rooms","operationId":"deleteBuilding","parameters":[{"name":"buildingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/buildings/{buildingId}/rooms":{"get":{"tags":["1. Building"],"summary":"Retrieve rooms of a specific building.","description":"Supports pagination, sorting (e.g., by roomName, rent), and filtering by room status.","operationId":"getRoomsByBuildingId","parameters":[{"name":"buildingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","default":["roomName,ASC"],"items":{"type":"string"}}},{"name":"status","in":"query","required":false,"schema":{"type":"string","default":"all","enum":["VACANT","OCCUPIED","ALL"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseRoomDTO"}}}}}},"post":{"tags":["2. Room"],"summary":"Create a New Room","description":"The Building ID must be provided in the path variable. If included in the request body, it will be ignored.","operationId":"postRoom","parameters":[{"name":"buildingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RoomDTO"}}}}}}},"/api/v1/buildings/{buildingId}/tenants":{"get":{"tags":["1. Building"],"summary":"Retrieve tenants of a specific building.","description":"Supports pagination, sorting (e.g., by dateMovedIn, firstName), and filtering by tenant status (active = currently living, inactive = moved out, all) and by whether the tenant is the primary tenant of a room.","operationId":"getTenantsByBuildingId","parameters":[{"name":"buildingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","default":["room.roomId,ASC"],"items":{"type":"string"}}},{"name":"status","in":"query","required":false,"schema":{"type":"string","default":"all","enum":["ACTIVE","INACTIVE","ALL"]}},{"name":"primaryOnly","in":"query","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseTenantDTO"}}}}}}},"/api/v1/rooms/{roomId}":{"get":{"tags":["2. Room"],"summary":"Retrieve a room by its ID","operationId":"getRoomById","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RoomDTO"}}}}}},"put":{"tags":["2. Room"],"summary":"Update an existing room","description":"The room ID must be provided in the path variable. If included in the request body, it will be ignored. The Building ID cannot be changed by any means.","operationId":"putRoom","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RoomDTO"}}}}}},"delete":{"tags":["2. Room"],"summary":"Delete a room by its ID, having no more linked tenants","operationId":"deleteRoom","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/rooms/{roomId}/tenants":{"get":{"tags":["3. Tenant"],"summary":"Retrieve tenant/s of a specific room","operationId":"getRoomById_1","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"primaryOnly","in":"query","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TenantDTO"}}}}}}},"post":{"tags":["3. Tenant"],"summary":"Create a New Tenant.","description":"The Room ID must be provided in the path variable. If included in the request body, it will be ignored.","operationId":"postTenant","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TenantDTO"}}}}}}},"/api/v1/rooms/{roomId}/transactions":{"get":{"tags":["4. Transaction"],"summary":"Retrieve all transactions for the specified room between a specified Date Range","operationId":"getTransactionsByRoomId","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","default":["transactionDate,DESC"],"items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseTransactionDTO"}}}}}}},"/api/v1/rooms/{roomdId}/tenants/change-primary":{"put":{"tags":["3. Tenant"],"summary":"Change the assigned primary tenant of a room","operationId":"changePrimaryTenant","parameters":[{"name":"roomdId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignPrimaryTenantRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TenantDTO"}}}}}}},"/api/v1/rooms/{roomdId}/tenants/move-out":{"put":{"tags":["3. Tenant"],"summary":"Set the move-out date of all tenants in a room","description":"The action will set the status of the tenants to inactive and making the room vacant.","operationId":"moveOutTenants","parameters":[{"name":"roomdId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MoveOutTenantRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TenantDTO"}}}}}}}},"/api/v1/tenants/{tenantId}":{"get":{"tags":["3. Tenant"],"summary":"Retrieve a tenant by its ID","operationId":"getTenantById","parameters":[{"name":"tenantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TenantDTO"}}}}}},"put":{"tags":["3. Tenant"],"summary":"Update the personal info of an existing tenant","description":"Updating assigned Room, Primary Status, and Move-in/Move-out Date is not allowed and will be ignored.","operationId":"putTenant","parameters":[{"name":"tenantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TenantDTO"}}}}}},"delete":{"tags":["3. Tenant"],"summary":"Delete a tenant by its ID","operationId":"deleteTenant","parameters":[{"name":"tenantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/tenants/{tenantId}/transactions":{"get":{"tags":["4. Transaction"],"summary":"Retrieve all transactions for the specified tenant between a specified Date Range","operationId":"getTransactionsByTenantId","parameters":[{"name":"tenantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","default":["transactionDate,DESC"],"items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseTransactionDTO"}}}}}}},"/api/v1/transaction/{transactionId}":{"get":{"tags":["4. Transaction"],"summary":"Retrieve a transactions by its ID","operationId":"getTransactionId","parameters":[{"name":"transactionId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}}}}}},"/api/v1/transactions":{"get":{"tags":["4. Transaction"],"summary":"Retrieve all transactions between a specified Date Range","operationId":"getTransactions","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageResponseTransactionDTO"}}}}}},"post":{"tags":["4. Transaction"],"summary":"Create a New Transaction","operationId":"postTransaction","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}}}}}},"/api/v1/transactions/{transactionId}":{"put":{"tags":["4. Transaction"],"summary":"Update a transactions","operationId":"putTransaction","parameters":[{"name":"transactionId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionDTO"}}}}}},"delete":{"tags":["4. Transaction"],"summary":"Delete a transaction by its ID","operationId":"deleteRoom_1","parameters":[{"name":"transactionId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"TransactionDTO":{"type":"object","description":"Data Transfer Object for a Payment","properties":{"transactionId":{"type":"integer","format":"int32","description":"Unique identifier of a payment","example":1},"roomId":{"type":"integer","format":"int32","description":"Unique identifier of the room","example":1},"tenantId":{"type":"integer","format":"int32","description":"Unique identifier of the tenant","example":1},"transactionType":{"type":"string","description":"Type of transaction","enum":["RENT","UTILS","DOWNPAYMENT","OTHERS"],"example":"Rent"},"amount":{"type":"integer","format":"int32","description":"Amount of transaction","example":3000,"minimum":1},"forMonthOf":{"type":"string","format":"date","description":"Represents the month this payment applies to. Date must be the first day of the month","example":"2025-08-01"},"transactionDate":{"type":"string","format":"date","description":"Date of transaction","example":"2025-08-23"},"notes":{"type":"string","description":"Notes of transaction","example":"Using down-payment for damage"}},"required":["amount","forMonthOf","roomId","tenantId","transactionDate","transactionType"]},"TenantDTO":{"type":"object","description":"Data Transfer Object for a Tenant","properties":{"tenantId":{"type":"integer","format":"int32","description":"Unique identifier of the room","example":1},"isPrimary":{"type":"boolean","description":"Flag to indicate tenant is primary of a room","example":true},"firstName":{"type":"string","description":"First name of a tenant","example":"Christoph","minLength":1},"lastName":{"type":"string","description":"Last name of a tenant","example":"Dela Cruz","minLength":1},"middleName":{"type":"string","description":"Middle name of a tenant","example":"Pritchett"},"birthDate":{"type":"string","format":"date","description":"Date of Birth of a tenant","example":"2000-08-20"},"age":{"type":"integer","format":"int32","description":"Age of a tenant","example":25},"gender":{"type":"string","description":"Gender of a tenant","enum":["M","F"],"example":"M"},"contactNumber":{"type":"string","description":"Contact number of the tenant (Philippine mobile format)","example":"0956-325-7269","minLength":1,"pattern":"^09\\d{2}-\\d{3}-\\d{4}$"},"dateMovedIn":{"type":"string","format":"date","description":"Move-In Date of a tenant","example":"2025-08-20"},"dateMovedOut":{"type":"string","format":"date","description":"Move-Out Date of a tenant","example":"2026-08-20"},"roomId":{"type":"integer","format":"int32","description":"Room ID of a tenant","example":1}},"required":["birthDate","contactNumber","firstName","gender","lastName"]},"MoveOutTenantRequest":{"type":"object","properties":{"dateMovedOut":{"type":"string","format":"date"}},"required":["dateMovedOut"]},"AssignPrimaryTenantRequest":{"type":"object","properties":{"newPrimaryTenantID":{"type":"integer","format":"int32"}},"required":["newPrimaryTenantID"]},"RoomDTO":{"type":"object","description":"Data Transfer Object for a Room","properties":{"roomId":{"type":"integer","format":"int32","description":"Unique identifier of the room","example":1},"roomName":{"type":"string","description":"Name of the room","example":"Room 1","minLength":1},"roomType":{"type":"string","description":"Type of the room","enum":["RESIDENTIAL","COMMERCIAL","OTHERS"],"example":"Residential"},"rent":{"type":"integer","format":"int32","description":"Rent of the room","example":3000,"minimum":1},"buildingId":{"type":"integer","format":"int32","description":"Building ID of a room","example":1}},"required":["roomName","roomType"]},"BuildingDTO":{"type":"object","description":"Data Transfer Object for a Building","properties":{"buildingId":{"type":"integer","format":"int32","description":"Unique identifier of the building","example":1},"buildingName":{"type":"string","description":"Name of the building","example":"Green Apartment","minLength":1},"address":{"type":"string","description":"Address of the building","example":"street, barangay, city, province","minLength":1,"pattern":"^([^,]+,){3}[^,]+$"}},"required":["address","buildingName"]},"RegisterRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["ADMIN","PROP_MNGR"]},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}},"AuthenticationRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"PageResponseTransactionDTO":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/TransactionDTO"}},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"PageResponseTenantDTO":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/TenantDTO"}},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"PageResponseRoomDTO":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/RoomDTO"}},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}}}}}